<div id="buoy-chat-widget" style="display:none; position:fixed; bottom:24px; right:24px; width:350px; height:500px; z-index:9999; box-shadow:0 4px 16px rgba(0,0,0,0.2); border-radius:12px; overflow:hidden;">
  <iframe src="https://your-chat-service.com/widget" style="width:100%; height:100%; border:none;" title="Chat Widget"></iframe>
</div>

<script>
	(function() {
		var shown = false;
		function showWidgetOnScroll() {
			var scrollDepth = window.scrollY / (document.body.scrollHeight - window.innerHeight);
			if (!shown && scrollDepth >= 0.5) {
				document.getElementById('buoy-chat-widget').style.display = 'block';
				shown = true;
				window.removeEventListener('scroll', showWidgetOnScroll);
			}
		}
		window.addEventListener('scroll', showWidgetOnScroll);
	})();
</script>

{% schema %}
{
	"name": "Window Shopper Chat Widget",
	"target": "section",
	"settings": [
		{
			"type": "text",
			"id": "iframe_src",
			"label": "Chat Widget URL",
			"default": "https://your-chat-service.com/widget"
		}
	],
	"presets": [
		{
			"name": "Window Shopper Chat Widget"
		}
	]
}
{% endschema %}